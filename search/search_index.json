{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Introduction","text":"<p>Introduction to Hyper-V on the desktop</p> <p>In our courses, desktop virtualization is done using VMware Workstation or Microsoft Hyper-V.  Very few students/professionals are using Linux desktop, so we do not cover it. Since the move to the Mx chips, we believe the MAC platform is no longer suitable for teaching private cloud.</p> <p>In these notes, I am looking at Microsoft Hyper-V technology and we refer to the software which implements these technologies as Virtual Machine Managers (VMMs). </p> <p>This is education not training, however, I do audit and maintain some cross compatibility with industry certifications.  The work beginning with these notes uses Microsoft Windows 10/11 and the training courses introducing this are; 98-365 Fundamentals 98-366 Network fundamentals 98-367 Security fundamentals.  I\u2019m going to assume basic competence with Windows, and you should review the content of these training courses to get an idea of some of the basics. </p> <p>Specifically looking at</p> <ul> <li>Hyper- V on Windows 10 70-697 MSCA Windows 10</li> </ul> <p>In this document, there are several key terms. These will be underlined. You may need to look up these terms to get a full understanding of them.  Commands are generally shown in bold. In these notes, an ISO file is an image of a DVD used for installation purposes.</p>"},{"location":"1.%20Setup/1/","title":"Hardware","text":"<p>There are some specific requirements before you can use your Windows 10/11 computer as a virtualization platform. The first thing we need to do is to understand what hardware is in the computer.</p>"},{"location":"1.%20Setup/1/#verifying-the-cpu","title":"Verifying the CPU","text":"<p>We can verify most of what we need using systeminfo.exe from the command prompt. In the example below, I\u2019m running a Windows 10 Enterprise instance on a Virtual Desktop Infrastructure (VDI). However, it has been configured to run Hyper-V.</p> Fig 1. Systeminfo  <p>In the screenshot I can see exactly the type of processor I have, the motherboard, and how much DRAM I have (32GB). At the end of this screenshot I can see the status of four critical properties for virtualization. And they are all good! There are other things I can see that are mandatory for virtualization;</p> <ul> <li>A 64-bit version of Windows.</li> <li>The professional version.</li> <li>Enough main memory (32GB); you need at least 8GB.</li> </ul>"},{"location":"1.%20Setup/1/#verifying-secondary-storage","title":"Verifying secondary storage","text":"<p>I also need to map the available hard disks and see if I have suitable secondary storage for virtual machines. If I run diskpart and then type the command list disk, I can get an idea of what disks are in my system.</p> Fig 2. Diskpart  <p>But I also need to determine which disks are spinning discs (HDD) and which are solid-state (SSD). A quick way to do this is to run dfrgui, the defragmentation tool. I can clearly see the drive types in my system.</p> Fig 3. Defragmentation tool  <p>My configuration is actually pretty good. </p> <ul> <li>C:\\ is a small SSD specifically intended for the host operating system. </li> <li>I have a dedicated disk E:\\ for synchronizing my cloud shares</li> <li>I have a separate dedicated disk F:\\ for holding static information, like ISO files. </li> <li>Finally, I have a dedicated SSD G:\\ for VM\u2019s.</li> </ul> <p>If I was running a lot of VM\u2019s, I could improve the performance by adding more, small SSD\u2019s.</p>"},{"location":"1.%20Setup/2/","title":"Installing Hyper-V","text":"<p>Do not install two Hypervisors on your PC. You can use Hyper-V or VMWare Workstation, but you should not install both! </p> <p>The procedure to install Hyper-V has changed a little and depends on the version of Windows that you are using. Assuming a recent version, open the dialogue to turn Windows features on or off. Click on okay to install, and you need to do a restart after the installation. </p> <p>After the computer is restarted, you should have both Hyper V and its associated management tools installed. From the search bar, type Hyper V and confirm that you can see the management tool. I normally write click on any important program and pin it to the taskbar. I can see what\u2019s installed on any of my PCs and all the important programs are just one click away.</p> Fig 4. Windows Features  <p>Alternatively, use the Power Shell command to install Hyper-V.</p> <pre><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -all\n</code></pre>"},{"location":"2.%20Storage/1/","title":"Virtual Hard Drives (VHDs)","text":"<p>Hard drives, their partitioning tables and file systems, are a complex topic and we will only be able to touch on this topic here. Imagine a physical hard disk is like a bookcase; empty with no shelves. Before we can put anything into the bookcase we have to divide up with shelves; on a computer we call these partitions. </p> <p>There are two systems by which we can partition a disk.</p> <ul> <li>Master Boot Record (MBR) has been used since the 1980s, is very restricted in its functionality and its ability to enforce security. The firmware on a computer motherboard was called the Basic Input Output System (BIOS) and it supports MBR. </li> <li>GUID Partition Tables (GPT) is a newer scheme and is what will typically use on all modern computers. Instead of BIOS, a new computer will have the Unified Extensible Firmware Interface (UEFI), sometimes shortened to EFI. Once we decide which scheme we are using, we create the meta data associated with that scheme on the hard disk. </li> </ul> <p>The next thing we do is to create whatever partitions we require; the bookshelves! In a library there will be a filing system like Dewey Decimal so we can find the books that we are looking for. Each partition also needs a filing system. </p> <p>For very old systems and USB keys we may use the File Allocation Table (FAT) file system, but we should never use this on a modern server or PC. Modern Windows computers use the New Technology File System (NTFS), which is good. There are hundreds of other file system types, and we can find these used on UNIX servers and other specialist equipment. \u2003</p>"},{"location":"2.%20Storage/1/#reconnaissance","title":"Reconnaissance","text":"<p>In recent versions of Windows, it has become very easy to play with this technology. Open a command window as administrator and run the diskpart command. This is a utility for working with disks and partitions. Type the command list disk to see what disks are in your existing system.</p> Fig 5. Diskpart, list disk  <p>I have a very simple configuration; this is my laptop. It is a single disk of 476GB and uses the GPT partitioning scheme.  To use disk 0, type the command select disk 0 and press return.</p> <p>Even though I only have one disk, I have a complex arrangement of partitions. This is reasonably standard on Windows machines. </p> <ul> <li>Partition one is the EFI system partition, the GPT partitioning scheme is reliant UEFI on the motherboard. </li> <li>Partition two is a Windows Reserved Partition which the Microsoft operating system needs for some technical reasons. </li> <li>Partition three is what the user will see as the C:\\ drive. </li> <li>Partition four and five are recovery partitions, which allow Windows to be restored or set back to its initial configuration.</li> </ul>"}]}