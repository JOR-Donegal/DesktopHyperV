# Virtual Hard Drives (VHDs)

Hard drives, their partitioning tables and file systems, are a complex topic and we will only be able to touch on this topic here. Imagine a physical hard disk is like a bookcase; empty with no shelves. Before we can put anything into the bookcase we have to divide up with shelves; on a computer we call these _partitions_. 

There are two systems by which we can partition a disk.

- Master Boot Record (MBR) has been used since the 1980s, is very restricted in its functionality and its ability to enforce security. The firmware on a computer motherboard was called the Basic Input Output System (BIOS) and it supports MBR. 
- GUID Partition Tables (GPT) is a newer scheme and is what will typically use on all modern computers. Instead of BIOS, a new computer will have the Unified Extensible Firmware Interface (UEFI), sometimes shortened to EFI. Once we decide which scheme we are using, we create the meta data associated with that scheme on the hard disk. 

The next thing we do is to create whatever partitions we require; the bookshelves! In a library there will be a filing system like Dewey Decimal so we can find the books that we are looking for. Each partition also needs a filing system. 

For very old systems and USB keys we may use the File Allocation Table (FAT) file system, but we should never use this on a modern server or PC. Modern Windows computers use the New Technology File System (NTFS), which is good. There are hundreds of other file system types, and we can find these used on UNIX servers and other specialist equipment. â€ƒ

## Reconnaissance
In recent versions of Windows, it has become very easy to play with this technology. Open a command window as administrator and run the __diskpart__ command. This is a utility for working with disks and partitions. Type the command __list disk__ to see what disks are in your existing system.

<figure>
<img src = "https://jor-donegal.github.io/DesktopHyperV/images/fig5png">
<figcaption>Fig 5. Diskpart, list disk </figcaption>
</figure>

I have a very simple configuration; this is my laptop. It is a single disk of 476GB and uses the GPT partitioning scheme. 
To use disk 0, type the command __select disk 0__ and press return.

Even though I only have one disk, I have a complex arrangement of partitions. This is reasonably standard on Windows machines. 

- Partition one is the EFI system partition, the GPT partitioning scheme is reliant UEFI on the motherboard. 
- Partition two is a Windows Reserved Partition which the Microsoft operating system needs for some technical reasons. 
- Partition three is what the user will see as the C:\ drive. 
- Partition four and five are recovery partitions, which allow Windows to be restored or set back to its initial configuration.